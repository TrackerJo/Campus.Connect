import{r as x,j as s}from"./index-BrX1-YwQ.js";import{E as o,f as p}from"./constants-BNam4_mG.js";import{T as A}from"./trash-BnpXJPEK.js";function k({actor:a,setActor:e,actors:m,dialogRef:j,addedActors:t,close:f,keepPastResult:i}){const[u,h]=x.useState([]),[d,l]=x.useState("");x.useEffect(()=>{if(a.name!=""&&!i){if(h(m.filter(r=>r.name.toLowerCase().includes(r.name.toLowerCase()))),a.name==null)return;l(a.name.toLowerCase())}},[]);function c(r){h(m.filter(n=>(console.log(n.name),n.name==null?!1:n.name.toLowerCase().includes(r.toLowerCase())&&!t.some(g=>g.name==n.name))))}return s.jsx("dialog",{ref:j,children:s.jsxs("div",{className:"AssignActorDialog",children:[s.jsx("h2",{children:"Find Actor"}),s.jsx("input",{type:"text",className:"ActorSearchInput",value:d,onChange:r=>{if(l(r.target.value),r.target.value==""){h([]);return}c(r.target.value)}}),s.jsx("h3",{children:"Results"}),s.jsx("div",{className:"ActorResults",children:u.map((r,n)=>s.jsxs("div",{className:"ActorResult",onClick:()=>{l(""),c("")},children:[s.jsx("label",{htmlFor:"",children:r.name}),s.jsx("button",{className:"ActionBtn",onClick:()=>{console.log("Assigning actor"),e(r)},children:"Assign"})]},n))}),s.jsx("button",{className:"ActionBtn",onClick:()=>{f()},children:"Close"})]})})}function F({ensembleSection:a,setEnsembleSection:e,removeEnsembleSection:m,isCreate:j,isAssign:t,actors:f,isCustom:i,isGroupChatCreate:u,onAddEnsemble:h}){const d=x.useRef(null);return s.jsxs("div",{className:"EnsembleSectionTile",children:[s.jsxs("div",{className:"header",children:[s.jsx("div",{className:"EnsembleSectionName",children:s.jsx("label",{htmlFor:"Ensemble",children:"Ensemble"})}),!u&&!t&&s.jsx("div",{children:s.jsx("img",{src:A,alt:"",className:"TrashIcon",onClick:()=>{m()}})})]}),s.jsx("br",{}),!t&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Include Everyone: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:a.includeAll,onChange:l=>{e(o.fromBlank(l.target.checked,!1,!1,!1,a.customActors,a.lastUpdated))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Males: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:a.includeMale,onChange:l=>{e(o.fromBlank(!1,l.target.checked,!1,!1,a.customActors,a.lastUpdated))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Females: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:a.includeFemale,onChange:l=>{e(o.fromBlank(!1,!1,l.target.checked,!1,a.customActors,a.lastUpdated))}}),s.jsx("br",{}),u&&s.jsx("div",{className:"AddEnsembleBtnDiv",children:s.jsx("button",{className:"ActionBtn",onClick:h,children:"Add Ensemble"})}),(j||i)&&!u&&s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"",children:"Include Custom Actors: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:a.includeCustom,onChange:l=>{e(o.fromBlank(!1,!1,!1,l.target.checked,a.customActors,a.lastUpdated))}})]})]}),(t||i)&&a.includeCustom&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Custom Actors: "}),s.jsx("br",{}),a.customActors.map((l,c)=>s.jsxs("div",{className:"AssignedActor",children:[s.jsx("label",{htmlFor:"",children:l.name}),s.jsx("img",{src:A,alt:"remove actor",className:"RemoveActorImg",onClick:()=>{const r=a.customActors;r.splice(c,1),e(o.fromBlank(a.includeAll,a.includeMale,a.includeFemale,a.includeCustom,r,a.lastUpdated))}})]},c)),s.jsx("button",{className:"ActionBtn",onClick:()=>{var l;(l=d.current)==null||l.showModal()},children:"Assign Actors"})]}),(t||i)&&s.jsx(k,{dialogRef:d,keepPastResult:!1,actor:new p,addedActors:a.customActors,actors:f,setActor:l=>{var r;const c=a.customActors;c.push(l),console.log("Setting actors"),e(o.fromBlank(a.includeAll,a.includeMale,a.includeFemale,a.includeCustom,c,a.lastUpdated)),(r=d.current)==null||r.close()},close:()=>{var l;(l=d.current)==null||l.close()}})]})}export{k as A,F as E};
