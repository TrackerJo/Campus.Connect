import{r as n,j as e}from"./index-U3pxML4x.js";function U({students:l,teachers:d,parents:o,dialogRef:f,addUser:p,close:g,addedMembers:S}){const[N,c]=n.useState([]),[u,h]=n.useState(""),[m,a]=n.useState(l),[t,i]=n.useState("students");function x(s){c(m.filter(r=>{const j=r.name,v=r.userId;if(j==null)return!1;const C=S.map(A=>A.userId);return j.toLowerCase().includes(s.toLowerCase())&&!C.includes(v)}))}return n.useEffect(()=>{x(u)},[m]),n.useEffect(()=>{t=="students"?a(l):t=="parents"?a(o.map(s=>s.toActivityMember())):a(d.map(s=>s.toActivityMember()))},[t]),e.jsx("dialog",{ref:f,children:e.jsxs("div",{className:"AddUserDialog",children:[e.jsx("h2",{children:"Find User"}),e.jsx("input",{type:"text",className:"UserSearchInput",value:u,onChange:s=>{if(h(s.target.value),s.target.value==""){c([]);return}x(s.target.value)}}),e.jsxs("div",{className:"sections",children:[e.jsx("h2",{className:"section "+(t=="students"?"selected":""),onClick:()=>{i("students")},children:"Students"}),o.length>0&&e.jsx("h2",{className:"section "+(t=="parents"?"selected":""),onClick:()=>{i("parents")},children:"Parents"}),d.length>0&&e.jsx("h2",{className:"section "+(t=="teachers"?"selected":""),onClick:()=>{i("teachers")},children:"Teachers"})]}),e.jsx("h3",{children:"Results"}),e.jsx("div",{className:"UserResults",children:N.map((s,r)=>e.jsxs("div",{className:"UserResult",onClick:()=>{h(""),c([])},children:[e.jsx("label",{htmlFor:"",children:s.name}),e.jsx("button",{className:"ActionBtn",onClick:()=>{console.log("Added user"),p(s)},children:"Add"})]},r))}),e.jsx("button",{className:"ActionBtn",onClick:()=>{g()},children:"Close"})]})})}export{U as A};
