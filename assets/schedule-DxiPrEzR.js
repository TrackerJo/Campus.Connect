import{c as y,j as a,r as o,i as I}from"./index-TIL8WiPk.js";import{C as E}from"./Calendar-DMc1feKi.js";import{w as x}from"./db-Da8J7MQf.js";y(document.getElementById("root")).render(a.jsx(o.StrictMode,{children:a.jsx(j,{})}));function j(){const[l,u]=o.useState(""),[r,S]=o.useState(""),[d,f]=o.useState([]),[w,m]=o.useState([]),[A,p]=o.useState("student");return o.useEffect(()=>{I(()=>{});const e=new URLSearchParams(window.location.search),n=e.get("activityId");n&&u(n);const s=e.get("showId");s&&S(s);const h=localStorage.getItem("accountType");h&&p(h),x(n,s).then(v=>{f(v);const g=[];for(const t of v){console.log(t);const c=t.date.from;console.log(t.date.date),c.setDate(t.date.date.getDate()),c.setMonth(t.date.date.getMonth()),c.setFullYear(t.date.date.getFullYear());const i=t.date.to;i.setDate(t.date.date.getDate()),i.setMonth(t.date.date.getMonth()),i.setFullYear(t.date.date.getFullYear()),console.log(c),console.log(i),console.log(t.rehearsalLocation.color),g.push({title:t.name,start:c.toISOString(),end:i.toISOString(),isAllDay:!1,interactive:!0,color:t.rehearsalLocation.color.setAlpha(.8).toRBGAString(),description:t.info,id:t.id,location:t.rehearsalLocation.name})}m(g)})},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"title",children:a.jsx("h1",{children:"Schedule"})}),a.jsxs("div",{className:"center",children:[a.jsx(E,{canViewConflicts:!1,canPaste:!1,canCopy:!1,copyEvent:()=>{},pasteEvent:()=>{},canOpenContextMenu:!1,eventIdClick:e=>{const n=d.find(s=>s.id===e);n&&(localStorage.setItem("event",JSON.stringify(n.toMap())),localStorage.setItem("back",`/Activity/Shows/Show/Schedule/?activityId=${l}&showId=${r}`),window.location.href="/Calendar/Event/")},events:w,editEvent:e=>{},viewEvent:e=>{},viewConflicts:e=>{},deleteEvent:async e=>{},dateClick:e=>{}}),a.jsx("br",{}),a.jsx("button",{className:"ActionBtn",onClick:()=>{localStorage.setItem("events",JSON.stringify(d.map(e=>e.toMap()))),window.open("/Activity/Shows/Show/Schedule/Print/","_blank")},children:"Print"}),a.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href=`/Activity/Shows/Show/?activityId=${l}&showId=${r}`},children:"Back"})]})]})}
