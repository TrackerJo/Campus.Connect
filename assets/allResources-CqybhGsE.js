import{c as p,j as e,r as s,i as y}from"./index-U3pxML4x.js";import{a2 as R,$ as f,a0 as d,_ as v}from"./db-B1Sht4uu.js";import{R as w}from"./Resource_Tile-0xajQMos.js";import"./constants-Cyoi8QJQ.js";p(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(x,{})}));function x(){const[o,l]=s.useState("student"),[c,i]=s.useState([]),[r,m]=s.useState(!0);s.useEffect(()=>{y(()=>{}),new URLSearchParams(window.location.search);const t=localStorage.getItem("accountType");t&&l(t),R().then(a=>{i(a),m(!1)})},[]);const h=t=>async()=>{if(t.type!="link"){const a=localStorage.getItem("schoolId");await f(a,t.activityId,t.file.name)}i(c.filter(a=>a.name!=t.name)),await d(t.activityId,t.showId,t)},u=t=>async a=>{i(c.map(n=>n.name==t.name?a:n)),await d(t.activityId,t.showId,t),await v(t.activityId,t.showId,a)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"title",children:e.jsx("h1",{children:"Resources"})}),e.jsxs("div",{className:"center",children:[r&&e.jsx("div",{className:"loader"}),e.jsx("div",{className:"resources",children:c.map((t,a)=>e.jsx(w,{resource:t,canRemove:o=="teacher",removeResource:h(t),canEdit:o=="teacher",editResource:u(t)},a))}),e.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href="/"},children:"Back"})]})]})}
