import{c as y,j as a,r as s,i as p}from"./index-U3pxML4x.js";import{a2 as v,$ as f,a0 as d,_ as w}from"./db-cUw2cP4H.js";import{R as x}from"./Resource_Tile-CPA3PPTS.js";import"./constants-j_evCGIy.js";y(document.getElementById("root")).render(a.jsx(s.StrictMode,{children:a.jsx(j,{})}));function j(){const[o,l]=s.useState("student"),[i,c]=s.useState([]),[m,r]=s.useState(!0);s.useEffect(()=>{p(()=>{}),new URLSearchParams(window.location.search);const t=localStorage.getItem("accountType");t&&l(t),v().then(e=>{c(e),r(!1)})},[]);const h=t=>async()=>{if(t.type!="link"){const e=localStorage.getItem("schoolId");await f(e,t.activityId,t.file.name)}c(i.filter(e=>e.name!=t.name)),await d(t.activityId,t.showId,t)},I=t=>async e=>{c(i.map(n=>n.name==t.name?(e.activityId=t.activityId,e.showId=t.showId,e):n)),await d(t.activityId,t.showId,t),await w(t.activityId,t.showId,e)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"title",children:a.jsx("h1",{children:"Resources"})}),a.jsxs("div",{className:"center",children:[m&&a.jsx("div",{className:"loader"}),a.jsx("div",{className:"resources",children:i.map((t,e)=>a.jsx(x,{resource:t,canRemove:o=="teacher",removeResource:h(t),canEdit:o=="teacher",editResource:I(t)},e))}),a.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href="/"},children:"Back"})]})]})}
