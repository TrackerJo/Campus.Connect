import{c as C,j as e,r as a,i as x}from"./index-DUWJYJoQ.js";import{C as E}from"./Calendar-CPq8IUYr.js";import{h as r,i as l}from"./constants-dc7CZI3_.js";import{o as j}from"./db-DbyQmLQG.js";C(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(A,{})}));function A(){const[d,S]=a.useState(""),[h,f]=a.useState(""),[v,w]=a.useState([]),[p,I]=a.useState([]),[L,y]=a.useState("student");return a.useEffect(()=>{x(()=>{});const o=new URLSearchParams(window.location.search),n=o.get("activityId");n&&S(n);const s=o.get("showId");s&&f(s);const u=localStorage.getItem("accountType");u&&y(u),j(n,s).then(g=>{w(g);const m=[];for(const t of g){console.log(t);const c=t.date.from;console.log(t.date.date),c.setDate(t.date.date.getDate()),c.setMonth(t.date.date.getMonth()),c.setFullYear(t.date.date.getFullYear());const i=t.date.to;i.setDate(t.date.date.getDate()),i.setMonth(t.date.date.getMonth()),i.setFullYear(t.date.date.getFullYear()),console.log(c),console.log(i),console.log(t.rehearsalLocation.color),console.log(r(l(t.rehearsalLocation.color),0)),console.log(r(l(t.rehearsalLocation.color),1)),m.push({title:t.name,start:c.toISOString(),end:i.toISOString(),isAllDay:!1,interactive:!0,color:r(l(t.rehearsalLocation.color),.8),description:"Location: "+t.rehearsalLocation.name+`
`+t.info,id:t.id})}I(m)})},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"title",children:e.jsx("h1",{children:"Schedule"})}),e.jsxs("div",{className:"center",children:[e.jsx(E,{canOpenContextMenu:!1,eventClick:o=>{const n=v.find(s=>s.id===o.event.id);n&&(localStorage.setItem("event",JSON.stringify(n)),localStorage.setItem("back",`/Campus.Connect/Activity/Shows/Show/Schedule/?activityId=${d}&showId=${h}`),window.location.href="/Campus.Connect/Calendar/Event/")},events:p,editEvent:o=>{},viewEvent:o=>{},viewConflicts:o=>{},deleteEvent:async o=>{},dateClick:o=>{}}),e.jsx("br",{}),e.jsx("button",{className:"ActionBtn",onClick:()=>{localStorage.setItem("events",JSON.stringify(v)),window.open("/Campus.Connect/Activity/Shows/Show/Schedule/Print/","_blank")},children:"Print"}),e.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href=`/Campus.Connect/Activity/Shows/show/?activityId=${d}&showId=${h}`},children:"Back"})]})]})}
