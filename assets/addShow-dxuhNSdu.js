import{c as u,j as t,r as s,i as v}from"./index-U3pxML4x.js";import{l as x,m as j}from"./db-CqfEwaLm.js";import"./constants-CZ2ZrUdU.js";u(document.getElementById("root")).render(t.jsx(s.StrictMode,{children:t.jsx(w,{})}));function w(){const[n,d]=s.useState(""),[c,h]=s.useState([]),[e,r]=s.useState(),[m,l]=s.useState(!1);return s.useEffect(()=>{v(()=>{});const a=new URLSearchParams(window.location.search).get("activityId");a&&d(a),x().then(o=>{h(o),r(o[0]),console.log(o)})},[]),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"title",children:t.jsx("h1",{children:"Choose a Show Template"})}),t.jsxs("div",{className:"center",children:[t.jsx("h2",{children:"Choose from previous shows"}),t.jsxs("div",{children:[t.jsx("select",{value:e==null?void 0:e.id,onChange:i=>{const a=c.find(o=>o.id===i.target.value);a&&r(a)},children:c.map(i=>t.jsx("option",{value:i.id,children:i.name},i.id))}),m?t.jsx("div",{className:"loader"}):t.jsx("button",{className:"ActionBtn",onClick:async()=>{l(!0),e.activityId=n;const i=await j(e);e.id=i,localStorage.setItem("show",JSON.stringify(e==null?void 0:e.toMap())),window.location.href=`/Activity/Shows/CreateTemplate/?activityId=${n}&isEditing=true`,l(!1)},children:"Select Show"})]}),t.jsx("h1",{children:"Or"}),t.jsx("div",{className:"",children:t.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href=`/Activity/Shows/CreateTemplate/?activityId=${n}`},children:"Create new Show Template"})}),t.jsx("br",{}),t.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href=`/Activity/Shows/?activityId=${n}`},children:"Back"})]})]})}
