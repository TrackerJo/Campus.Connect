import{r as x,j as s}from"./index-BrX1-YwQ.js";import{E as i,f as g}from"./constants-BNam4_mG.js";import{T as A}from"./trash-BnpXJPEK.js";function p({actor:l,setActor:e,actors:m,dialogRef:j,addedActors:t,close:f,keepPastResult:u}){const[h,d]=x.useState([]),[n,a]=x.useState("");x.useEffect(()=>{if(l.name!=""&&!u){if(d(m.filter(r=>r.name.toLowerCase().includes(r.name.toLowerCase()))),l.name==null)return;a(l.name.toLowerCase())}},[]);function c(r){d(m.filter(o=>(console.log(o.name),o.name==null?!1:o.name.toLowerCase().includes(r.toLowerCase())&&!t.includes(o))))}return s.jsx("dialog",{ref:j,children:s.jsxs("div",{className:"AssignActorDialog",children:[s.jsx("h2",{children:"Find Actor"}),s.jsx("input",{type:"text",className:"ActorSearchInput",value:n,onChange:r=>{if(a(r.target.value),r.target.value==""){d([]);return}c(r.target.value)}}),s.jsx("h3",{children:"Results"}),s.jsx("div",{className:"ActorResults",children:h.map((r,o)=>s.jsxs("div",{className:"ActorResult",onClick:()=>{a(""),d([])},children:[s.jsx("label",{htmlFor:"",children:r.name}),s.jsx("button",{className:"ActionBtn",onClick:()=>{console.log("Assigning actor"),e(r)},children:"Assign"})]},o))}),s.jsx("button",{className:"ActionBtn",onClick:()=>{f()},children:"Close"})]})})}function N({ensembleSection:l,setEnsembleSection:e,removeEnsembleSection:m,isCreate:j,isAssign:t,actors:f,isCustom:u,isGroupChatCreate:h,onAddEnsemble:d}){const n=x.useRef(null);return s.jsxs("div",{className:"EnsembleSectionTile",children:[s.jsxs("div",{className:"header",children:[s.jsx("div",{className:"EnsembleSectionName",children:s.jsx("label",{htmlFor:"Ensemble",children:"Ensemble"})}),!h&&!t&&s.jsx("div",{children:s.jsx("img",{src:A,alt:"",className:"TrashIcon",onClick:()=>{m()}})})]}),s.jsx("br",{}),!t&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Include Everyone: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeAll,onChange:a=>{e(i.fromBlank(a.target.checked,!1,!1,!1,l.customActors,l.lastUpdated))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Males: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeMale,onChange:a=>{e(i.fromBlank(!1,a.target.checked,!1,!1,l.customActors,l.lastUpdated))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Females: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeFemale,onChange:a=>{e(i.fromBlank(!1,!1,a.target.checked,!1,l.customActors,l.lastUpdated))}}),s.jsx("br",{}),h&&s.jsx("div",{className:"AddEnsembleBtnDiv",children:s.jsx("button",{className:"ActionBtn",onClick:d,children:"Add Ensemble"})}),(j||u)&&!h&&s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"",children:"Include Custom Actors: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeCustom,onChange:a=>{e(i.fromBlank(!1,!1,!1,a.target.checked,l.customActors,l.lastUpdated))}})]})]}),(t||u)&&l.includeCustom&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Custom Actors: "}),s.jsx("br",{}),l.customActors.map((a,c)=>s.jsxs("div",{className:"AssignedActor",children:[s.jsx("label",{htmlFor:"",children:a.name}),s.jsx("img",{src:A,alt:"remove actor",className:"RemoveActorImg",onClick:()=>{const r=l.customActors;r.splice(c,1),e(i.fromBlank(l.includeAll,l.includeMale,l.includeFemale,l.includeCustom,r,l.lastUpdated))}})]},c)),s.jsx("button",{className:"ActionBtn",onClick:()=>{var a;(a=n.current)==null||a.showModal()},children:"Assign Actors"})]}),(t||u)&&s.jsx(p,{dialogRef:n,keepPastResult:!1,actor:new g,addedActors:l.customActors,actors:f,setActor:a=>{var r;const c=l.customActors;c.push(a),console.log("Setting actors"),e(i.fromBlank(l.includeAll,l.includeMale,l.includeFemale,l.includeCustom,c,l.lastUpdated)),(r=n.current)==null||r.close()},close:()=>{var a;(a=n.current)==null||a.close()}})]})}export{p as A,N as E};
