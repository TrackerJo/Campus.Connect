import{r as x,j as s}from"./index-DnJ92IFj.js";import{d,i as k}from"./constants-CQrCYvr3.js";import{T as A}from"./trash-BnpXJPEK.js";function p({actor:e,setActor:a,actors:h,dialogRef:j,addedActors:t,close:f,keepPastResult:i}){const[u,m]=x.useState([]),[n,l]=x.useState("");x.useEffect(()=>{if(e.name!=""&&!i){if(m(h.filter(r=>r.name.toLowerCase().includes(r.name.toLowerCase()))),e.name==null)return;l(e.name.toLowerCase())}},[]);function c(r){m(h.filter(o=>(console.log(o.name),o.name==null?!1:o.name.toLowerCase().includes(r.toLowerCase())&&!t.some(g=>g.name==o.name))))}return s.jsx("dialog",{ref:j,children:s.jsxs("div",{className:"AssignActorDialog",children:[s.jsx("h2",{children:"Find Actor"}),s.jsx("input",{type:"text",className:"ActorSearchInput",value:n,onChange:r=>{if(l(r.target.value),r.target.value==""){m([]);return}c(r.target.value)}}),s.jsx("h3",{children:"Results"}),s.jsx("div",{className:"ActorResults",children:u.map((r,o)=>s.jsxs("div",{className:"ActorResult",onClick:()=>{l(""),c("")},children:[s.jsx("label",{htmlFor:"",children:r.name}),s.jsx("button",{className:"ActionBtn",onClick:()=>{console.log("Assigning actor"),a(r)},children:"Assign"})]},o))}),s.jsx("button",{className:"ActionBtn",onClick:()=>{f()},children:"Close"})]})})}function F({ensembleSection:e,setEnsembleSection:a,removeEnsembleSection:h,isCreate:j,isAssign:t,actors:f,isCustom:i,isGroupChatCreate:u,onAddEnsemble:m}){const n=x.useRef(null);return s.jsxs("div",{className:"EnsembleSectionTile",children:[s.jsxs("div",{className:"header",children:[s.jsx("div",{className:"EnsembleSectionName",children:s.jsx("label",{htmlFor:"Ensemble",children:"Ensemble"})}),!u&&!t&&s.jsx("div",{children:s.jsx("img",{src:A,alt:"",className:"TrashIcon",onClick:()=>{h()}})})]}),s.jsx("br",{}),!t&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Include Everyone: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:e.includeAll,onChange:l=>{a(d.fromBlank(l.target.checked,!1,!1,!1,e.customActors))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Males: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:e.includeMale,onChange:l=>{a(d.fromBlank(!1,l.target.checked,!1,!1,e.customActors))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Females: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:e.includeFemale,onChange:l=>{a(d.fromBlank(!1,!1,l.target.checked,!1,e.customActors))}}),s.jsx("br",{}),u&&s.jsx("div",{className:"AddEnsembleBtnDiv",children:s.jsx("button",{className:"ActionBtn",onClick:m,children:"Add Ensemble"})}),(j||i)&&!u&&s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"",children:"Include Custom Actors: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:e.includeCustom,onChange:l=>{a(d.fromBlank(!1,!1,!1,l.target.checked,e.customActors))}})]})]}),(t||i)&&e.includeCustom&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Custom Actors: "}),s.jsx("br",{}),e.customActors.map((l,c)=>s.jsxs("div",{className:"AssignedActor",children:[s.jsx("label",{htmlFor:"",children:l.name}),s.jsx("img",{src:A,alt:"remove actor",className:"RemoveActorImg",onClick:()=>{const r=e.customActors;r.splice(c,1),a(d.fromBlank(e.includeAll,e.includeMale,e.includeFemale,e.includeCustom,r))}})]},c)),s.jsx("button",{className:"ActionBtn",onClick:()=>{var l;(l=n.current)==null||l.showModal()},children:"Add Actors"})]}),(t||i)&&s.jsx(p,{dialogRef:n,keepPastResult:!1,actor:new k,addedActors:e.customActors,actors:f,setActor:l=>{var r;const c=e.customActors;c.push(l),console.log("Setting actors"),a(d.fromBlank(e.includeAll,e.includeMale,e.includeFemale,e.includeCustom,c)),(r=n.current)==null||r.close()},close:()=>{var l;(l=n.current)==null||l.close()}})]})}export{p as A,F as E};
