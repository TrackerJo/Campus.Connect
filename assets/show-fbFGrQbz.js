import{c as I,j as e,r as s,i as u}from"./index-U3pxML4x.js";import{D as c}from"./Dashboard_Tile-C0J1CucN.js";import{q as p,s as v}from"./db-cUw2cP4H.js";import"./constants-j_evCGIy.js";I(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(x,{})}));function x(){const[o,m]=s.useState(""),[i,w]=s.useState(""),[t,f]=s.useState(),[a,g]=s.useState("student"),[y,l]=s.useState(!0);return s.useEffect(()=>{l(!0),u(()=>{});const d=new URLSearchParams(window.location.search),r=d.get("activityId");r&&m(r);const n=d.get("showId");n&&w(n),p(r,n).then(S=>{f(S),console.log(S),l(!1)});const h=localStorage.getItem("accountType");h&&g(h)},[]),e.jsx(e.Fragment,{children:y?e.jsxs("div",{className:"center",children:[" ",e.jsx("div",{className:"loader"})]}):e.jsxs(e.Fragment,{children:[" ",e.jsx("div",{className:"title",children:e.jsx("h1",{children:t==null?void 0:t.name})}),e.jsxs("div",{className:"center",children:[e.jsxs("div",{className:"tiles",children:[a=="teacher"?e.jsxs(e.Fragment,{children:[" ",e.jsx(c,{title:"Edit Show Template",description:"Edit the show template",onClick:()=>{localStorage.setItem("show",JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/CreateTemplate/?activityId=${o}&isEditing=true&showId=${i}`}})," "]}):e.jsx(e.Fragment,{}),a=="teacher"?e.jsxs(e.Fragment,{children:[" ",e.jsx(c,{title:"Assign Roles",description:"Assign roles to characters",onClick:()=>{localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/Assign/?activityId=${o}&showId=${i}`}})]}):e.jsx(e.Fragment,{}),a=="teacher"&&(t==null?void 0:t.canCreateSchedule)&&e.jsx(c,{title:"Create/Edit Schedule",description:"Create/Edit the rehersal schedule",onClick:async()=>{t!=null&&t.isCreatingSchedule?(localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/CreateSchedule/?activityId=${o}&showId=${i}`):(await v(o,i),localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/CreateSchedule/?activityId=${o}&showId=${i}`)}}),a=="teacher"?e.jsxs(e.Fragment,{children:[e.jsx(c,{title:"Conflict Form",description:"Create/View the conflict form",onClick:()=>{localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/ConflictForm/?activityId=${o}&showId=${i}`}})," "]}):e.jsxs(e.Fragment,{children:[(t==null?void 0:t.conflictForm)&&e.jsx(c,{title:"Conflict Form",description:"Complete/View the conflict form",onClick:()=>{localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/ConflictForm/?activityId=${o}&showId=${i}`}}),e.jsx(c,{title:"Schedule",description:"View Schedule",onClick:()=>{localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/Schedule/?activityId=${o}&showId=${i}`}})]}),a=="student"&&e.jsx(c,{title:"Actor Profile",description:"View your actor profile",onClick:()=>{localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/Actor/?activityId=${o}&showId=${i}`}}),e.jsx(c,{title:"Resources",description:"View all resources",onClick:()=>{localStorage.setItem("show-"+i,JSON.stringify(t==null?void 0:t.toMap())),window.location.href=`/Activity/Shows/Show/Resources/?activityId=${o}&showId=${i}`}})]}),e.jsx("br",{}),e.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href=`/Activity/Shows/?activityId=${o}`},children:"Back"})]})]})})}
