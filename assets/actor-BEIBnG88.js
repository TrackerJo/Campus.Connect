import{c as z,j as e,r as d,i as H}from"./index-C75OlIaX.js";import{d as K,C as f,F as h,E as g}from"./constants-DLaJuiqq.js";import{N as Q}from"./db-s7oGJEVv.js";z(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(V,{})}));function V(){const[U,C]=d.useState(""),[D,G]=d.useState(""),[W,R]=d.useState(),[j,T]=d.useState([]),[x,b]=d.useState([]),[S,B]=d.useState([]),[I,L]=d.useState([]),[A,P]=d.useState([]),[X,k]=d.useState("student");d.useRef(null);const[O,p]=d.useState(!0);return d.useEffect(()=>{p(!0),H(()=>{});const l=new URLSearchParams(window.location.search),v=l.get("activityId");v&&C(v);const m=l.get("showId");m&&G(m);const w=localStorage.getItem("show-"+m);if(w){const c=K.fromMap(JSON.parse(w));R(c),console.log(c),Q().then(y=>{if(!y)return;const s=y,$=c.characters.filter(o=>{var r;return((r=o.actor)==null?void 0:r.userId)===s.uid});T($);const J=c.showGroups.filter(o=>o.characters.find(r=>{var n;return r instanceof f?((n=r.actor)==null?void 0:n.userId)===s.uid:r.includeAll?!0:r.customActors?r.customActors.find(i=>i.userId===s.uid):r.includeFemale&&s.gender=="female"?!0:!!(r.includeMale&&s.gender=="male")}));b(J);const E=[];c.layout.forEach(o=>{o.scenes.forEach(r=>{r.characters.find(i=>{var t;return i instanceof h?!0:i instanceof f?((t=i.actor)==null?void 0:t.userId)===s.uid:i instanceof g?i.includeAll?!0:i.customActors?i.customActors.find(u=>u.userId===s.uid):i.includeFemale&&s.gender=="female"?!0:!!(i.includeMale&&s.gender=="male"):i.characters.find(u=>{var a;return u instanceof f?((a=u.actor)==null?void 0:a.userId)===s.uid:u.includeAll?!0:u.customActors?u.customActors.find(q=>q.userId===s.uid):u.includeFemale&&s.gender=="female"?!0:!!(u.includeMale&&s.gender=="male")})})&&(r.name=o.name+" - "+r.name,E.push(r))})}),B(E);const F=[];c.songs.forEach(o=>{o.characters.find(n=>{var i;return n instanceof h?!0:n instanceof f?((i=n.actor)==null?void 0:i.userId)===s.uid:n instanceof g?n.includeAll?!0:n.customActors?n.customActors.find(t=>t.userId===s.uid):n.includeFemale&&s.gender=="female"?!0:!!(n.includeMale&&s.gender=="male"):n.characters.find(t=>{var u;return t instanceof f?((u=t.actor)==null?void 0:u.userId)===s.uid:t.includeAll?!0:t.customActors?t.customActors.find(a=>a.userId===s.uid):t.includeFemale&&s.gender=="female"?!0:!!(t.includeMale&&s.gender=="male")})})&&F.push(o)}),L(F);const M=[];c.dances.forEach(o=>{o.characters.find(n=>{var i;return n instanceof h?!0:n instanceof f?((i=n.actor)==null?void 0:i.userId)===s.uid:n instanceof g?n.includeAll?!0:n.customActors?n.customActors.find(t=>t.userId===s.uid):n.includeFemale&&s.gender=="female"?!0:!!(n.includeMale&&s.gender=="male"):n.characters.find(t=>{var u;return t instanceof f?((u=t.actor)==null?void 0:u.userId)===s.uid:t.includeAll?!0:t.customActors?t.customActors.find(a=>a.userId===s.uid):t.includeFemale&&s.gender=="female"?!0:!!(t.includeMale&&s.gender=="male")})})&&M.push(o)}),P(M),p(!1)})}const N=localStorage.getItem("accountType");N&&k(N)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"title",children:e.jsx("h1",{children:"Actor Profile"})}),e.jsxs("div",{className:"center",children:[O&&e.jsx("div",{className:"loader"}),j.length>0&&e.jsxs("div",{className:"section",children:[e.jsx("h2",{children:"Characters"}),e.jsx("div",{className:"tiles",children:j.map(l=>e.jsx("div",{className:"tile",children:e.jsx("h3",{children:l.name})},l.name))})]}),x.length>0&&e.jsxs("div",{className:"section",children:[e.jsx("h2",{children:"Show Groups"}),e.jsx("div",{className:"tiles",children:x.map(l=>e.jsx("div",{className:"tile",children:e.jsx("h3",{children:l.name})},l.name))})]}),S.length>0&&e.jsxs("div",{className:"section",children:[e.jsx("h2",{children:"Scenes"}),e.jsx("div",{className:"tiles",children:S.map(l=>e.jsx("div",{className:"tile",children:e.jsx("h3",{children:l.name})},l.name))})]}),I.length>0&&e.jsxs("div",{className:"section",children:[e.jsx("h2",{children:"Songs"}),e.jsx("div",{className:"tiles",children:I.map(l=>e.jsx("div",{className:"tile",children:e.jsx("h3",{children:l.name})},l.name))})]}),A.length>0&&e.jsxs("div",{className:"section",children:[e.jsx("h2",{children:"Dances"}),e.jsx("div",{className:"tiles",children:A.map(l=>e.jsx("div",{className:"tile",children:e.jsx("h3",{children:l.name})},l.name))})]}),e.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href=`/Activity/Shows/Show/?activityId=${U}&showId=${D}`},children:"Back"})]})]})}
