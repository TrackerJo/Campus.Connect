import{r as x,j as s}from"./index-BvKDzgix.js";import{E as o,q as g}from"./db-CcV56dnt.js";import{T as f}from"./trash-BnpXJPEK.js";function p({actor:l,setActor:e,actors:m,dialogRef:j,addedActors:i,close:A,keepPastResult:u}){const[h,t]=x.useState([]),[d,a]=x.useState("");x.useEffect(()=>{if(l.name!=""&&!u){if(t(m.filter(r=>r.name.toLowerCase().includes(r.name.toLowerCase()))),l.name==null)return;a(l.name.toLowerCase())}},[]);function c(r){t(m.filter(n=>(console.log(n.name),n.name==null?!1:n.name.toLowerCase().includes(r.toLowerCase())&&!i.includes(n))))}return s.jsx("dialog",{ref:j,children:s.jsxs("div",{className:"AssignActorDialog",children:[s.jsx("h2",{children:"Find Actor"}),s.jsx("input",{type:"text",className:"ActorSearchInput",value:d,onChange:r=>{if(a(r.target.value),r.target.value==""){t([]);return}c(r.target.value)}}),s.jsx("h3",{children:"Results"}),s.jsx("div",{className:"ActorResults",children:h.map((r,n)=>s.jsxs("div",{className:"ActorResult",onClick:()=>{a(""),t([])},children:[s.jsx("label",{htmlFor:"",children:r.name}),s.jsx("button",{className:"ActionBtn",onClick:()=>{console.log("Assigning actor"),e(r)},children:"Assign"})]},n))}),s.jsx("button",{className:"ActionBtn",onClick:()=>{A()},children:"Close"})]})})}function N({ensembleSection:l,setEnsembleSection:e,removeEnsembleSection:m,isCreate:j,isAssign:i,actors:A,isCustom:u,isGroupChatCreate:h,onAddEnsemble:t}){const d=x.useRef(null);return s.jsxs("div",{className:"EnsembleSectionTile",children:[s.jsxs("div",{className:"header",children:[s.jsx("div",{className:"EnsembleSectionName",children:s.jsx("label",{htmlFor:"Ensemble",children:"Ensemble"})}),!h&&s.jsx("div",{children:s.jsx("img",{src:f,alt:"",className:"TrashIcon",onClick:()=>{m()}})})]}),s.jsx("br",{}),!i&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Include Everyone: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeAll,onChange:a=>{e(o.fromBlank(a.target.checked,!1,!1,!1,l.customActors,l.lastUpdated))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Males: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeMale,onChange:a=>{e(o.fromBlank(!1,a.target.checked,!1,!1,l.customActors,l.lastUpdated))}}),s.jsx("br",{}),s.jsx("label",{htmlFor:"",children:"Include Females: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeFemale,onChange:a=>{e(o.fromBlank(!1,!1,a.target.checked,!1,l.customActors,l.lastUpdated))}}),s.jsx("br",{}),h&&s.jsx("div",{className:"AddEnsembleBtnDiv",children:s.jsx("button",{className:"ActionBtn",onClick:t,children:"Add Ensemble"})}),(j||u)&&!h&&s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"",children:"Include Custom Actors: "}),s.jsx("input",{type:"radio",name:"",id:"",checked:l.includeCustom,onChange:a=>{e(o.fromBlank(!1,!1,!1,a.target.checked,l.customActors,l.lastUpdated))}})]})]}),(i||u)&&l.includeCustom&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"",children:"Custom Actors: "}),s.jsx("br",{}),l.customActors.map((a,c)=>s.jsxs("div",{className:"AssignedActor",children:[s.jsx("label",{htmlFor:"",children:a.name}),s.jsx("img",{src:f,alt:"remove actor",className:"RemoveActorImg",onClick:()=>{const r=l.customActors;r.splice(c,1),e(o.fromBlank(l.includeAll,l.includeMale,l.includeFemale,l.includeCustom,r,l.lastUpdated))}})]},c)),s.jsx("button",{className:"ActionBtn",onClick:()=>{var a;(a=d.current)==null||a.showModal()},children:"Assign Actors"})]}),(i||u)&&s.jsx(p,{dialogRef:d,keepPastResult:!1,actor:new g,addedActors:l.customActors,actors:A,setActor:a=>{var r;const c=l.customActors;c.push(a),console.log("Setting actors"),e(o.fromBlank(l.includeAll,l.includeMale,l.includeFemale,l.includeCustom,c,l.lastUpdated)),(r=d.current)==null||r.close()},close:()=>{var a;(a=d.current)==null||a.close()}})]})}export{p as A,N as E};
