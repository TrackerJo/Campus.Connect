import{r as s,j as e,c as g,i as p}from"./index-BrfWEQze.js";import{e as A,B as L}from"./db-B0VozRgX.js";import{p as R,q as v,r as m,i as f}from"./constants-B2y1av-g.js";function y({addRehearsalLocation:l,close:u,dialogRef:a}){const[i,x]=s.useState(""),[d,c]=s.useState("#000000");return e.jsxs("dialog",{ref:a,children:[e.jsx("h2",{children:"Add Rehearsal Location"}),e.jsxs("div",{className:"location-info",children:[e.jsx("label",{htmlFor:"",children:"Name: "}),e.jsx("input",{type:"text",value:i,onChange:r=>{x(r.target.value)}}),e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Color: "}),e.jsx("input",{type:"color",value:d,onChange:r=>{c(r.target.value)}}),e.jsx("br",{}),e.jsx("button",{className:"ActionBtn",onClick:()=>{l(R.fromBlank(i,v(d)))},children:"Add Rehearsal Location"}),e.jsx("button",{className:"ActionBtn",onClick:()=>{u()},children:"Close"})]})]})}g(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsx(C,{})}));function C(){const[l,u]=s.useState(""),[a,i]=s.useState(null),[x,d]=s.useState("student"),c=s.useRef(null),[r,j]=s.useState([]);return s.useState([]),s.useEffect(()=>{p(()=>{});const t=new URLSearchParams(window.location.search).get("activityId");t&&u(t),A(t).then(h=>{h&&(i(h),h instanceof m&&j(h.rehearsalLocations))});const n=localStorage.getItem("accountType");n&&d(n)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title",children:[e.jsxs("h1",{children:["Activity: ",a==null?void 0:a.name]}),e.jsxs("h3",{children:["Join Code: ",a==null?void 0:a.joinCode]}),e.jsx("h2",{children:"Rehearsal Locations"}),e.jsx("div",{className:"rehearsal-locations",children:a instanceof m?r.map((o,t)=>(console.log(o),console.log(f(o.color)),e.jsxs("div",{className:"rehearsal-location",children:[e.jsx("label",{htmlFor:"",className:"rehearsal-location-name",children:o.name}),e.jsx("div",{className:"rehearsal-location-color",style:{backgroundColor:f(o.color)}})]}))):e.jsx(e.Fragment,{})}),e.jsx("button",{className:"ActionBtn",onClick:o=>{var t;(t=c.current)==null||t.showModal()},children:"Add Rehearsal Location"}),e.jsx("br",{}),e.jsx("button",{className:"ActionBtn",onClick:()=>{window.location.href="/Activity/?activityId="+l},children:"Back"})]}),e.jsx(y,{dialogRef:c,addRehearsalLocation:async o=>{var t;if(a instanceof m){const n=[...a.rehearsalLocations];n.push(o),a.rehearsalLocations=n,console.log(n),j(n),await L(l,n),(t=c.current)==null||t.close()}},close:()=>{var o;(o=c.current)==null||o.close()}})]})}
