import{r as l,j as e,n as Q,c as Ne,i as ye,I as ne}from"./index-BfAiCOmw.js";import{Z as Ce,h as ke,_ as Ae,$ as Fe,a0 as ge}from"./db-CCKL9Mgi.js";import{B as Ie,C as he}from"./Calendar-BQb5CZFT.js";import{T as Le}from"./trash-BnpXJPEK.js";function Me({dialogRef:X,close:ee,addDate:p,eventDate:S}){const[j,H]=l.useState(new Date),[P,U]=l.useState(new Date),[V,b]=l.useState(new Date),[w,A]=l.useState(""),[a,J]=l.useState(""),W=R=>{const u=R.target.value,[v,g]=u.split(":").map(Number),m=new Date(j);m.setHours(v,g,0,0),U(m),A(m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))},Z=R=>{const u=R.target.value,[v,g]=u.split(":").map(Number),m=new Date(j);m.setHours(v,g,0,0),b(m),J(m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))};return l.useEffect(()=>{S&&(H(S.date),U(S.from),b(S.to),A(S.from.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),J(S.to.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})))},[S]),e.jsxs("dialog",{ref:X,className:"AddEventDateDialog",children:[e.jsx("h2",{children:"Add Event Date"}),e.jsx("label",{htmlFor:"",children:"Date: "}),e.jsx("input",{type:"date",value:j==null?void 0:j.toISOString().split("T")[0],onChange:R=>{const u=new Date(R.target.value);u.setHours(0,0,0,0),u.setDate(u.getDate()+1),H(u);const v=new Date(u);v.setHours(P.getHours(),P.getMinutes(),0,0),U(v),A(v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}));const g=new Date(u);g.setHours(V.getHours(),V.getMinutes(),0,0),b(g),J(g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))}}),e.jsx("br",{}),e.jsx("label",{htmlFor:"StartTime",children:"Start Time: "}),e.jsx("input",{type:"time",value:w,onChange:W}),e.jsx("br",{}),e.jsx("label",{htmlFor:"EndTime",children:"End Time: "}),e.jsx("input",{type:"time",value:a,onChange:Z}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"ActionBtn",onClick:()=>{ee()},children:"Close"}),e.jsx("button",{className:"ActionBtn",onClick:()=>{p(Q.fromBlank(j,P,V))},children:"Add Date"})]})]})}Ne(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(Be,{})}));function Be(){const[X,ee]=l.useState("student"),[p,S]=l.useState([]),[j,H]=l.useState([]),[P,U]=l.useState(null),[V,b]=l.useState(!1),[w,A]=l.useState([]),[a,J]=l.useState(),[W,Z]=l.useState("students"),[R,u]=l.useState("date"),[v,g]=l.useState(null),[m,F]=l.useState(null),[T,I]=l.useState(null),[L,M]=l.useState(""),[Y,B]=l.useState(""),[ae,$]=l.useState(""),[se,O]=l.useState(""),[h,E]=l.useState(void 0),[y,N]=l.useState([]),[f,G]=l.useState("students"),[oe,$e]=l.useState(!1);l.useState(""),l.useState(""),l.useState(null),l.useState(null);const[ie,Oe]=l.useState(""),[_,q]=l.useState(!1),[pe,ve]=l.useState(null),[x,C]=l.useState(void 0),[k,fe]=l.useState(void 0),[K,le]=l.useState([]),[xe,Se]=l.useState(void 0),z=l.useRef(null);function je(t){const n=Object.keys(t[0]),o=t.map(s=>n.map(i=>s[i]).join(","));return[n.join(","),...o].join(`
`)}const Te=t=>{const n=[];t=De(t);for(let r=0;r<t.length;r++){const d=t[r];n.push({Date:d.date.date.getMonth()+1+"/"+d.date.date.getDate()+"/"+d.date.date.getFullYear().toString().slice(2),Start:d.date.from.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0}),End:d.date.to.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0}),Name:d.name,Location:d.location.name==(a==null?void 0:a.defaultLocation.name)?"default":d.location.name,"Event Type":d.eventType.name,"Extra Info":d.info,"Invite Type":d.generalTarget,"Custom/Group Targets":d.groupTargets.map(D=>D.groupName).join(", "),"Added to Campus Connect":""})}n.sort((r,d)=>r.Date==d.Date?r.Start==d.Start?r.End>d.End?1:-1:r.Start>d.Start?1:-1:r.Date>d.Date?1:-1);const o=je(n),s=new Blob([o],{type:"text/csv"}),i=window.URL.createObjectURL(s),c=document.createElement("a");c.href=i,c.download="events.csv",c.click(),window.URL.revokeObjectURL(i)};function re(t,n,o,s){let i=new Date(t,n,1),c=0;for(;i.getMonth()===n;){if(i.getDay()===o&&(c++,c===s))return i;i.setDate(i.getDate()+1)}return re(t,n+1,o,1)}function Ee(t){const n=t.getDay(),o=t.getFullYear()+1,s=t.getMonth();let i=1,c=new Date(t);for(c.setDate(1);c.getMonth()===s;){if(c.getDay()===n){if(c.getDate()===t.getDate())break;i++}c.setDate(c.getDate()+1)}return re(o,s,n,i)}function De(t){return t.map(n=>{const o=Ee(n.date.date),s=Q.fromBlank(o,n.date.from,n.date.to);return ne.fromBlank(n.name,n.info,n.location,s,n.type,n.lastUpdated,n.activityId,n.groupNames,n.targets,n.generalTarget,n.eventType,n.groupTargets,n.hasSchoolEvent,n.schoolEventId,n.conflicts,n.activityName)})}l.useEffect(()=>{ye(()=>{});async function t(){b(!0);const s=new URLSearchParams(window.location.search).get("activityId");if(s){U(s);const r=await ke(s);J(r),console.log(r),E(r.defaultLocation)}const i=await Ae(s);console.log(i),S(i);const c=[];for(const r of i){console.log(r);const d=r.date.from;console.log(r.date.date),d.setDate(r.date.date.getDate()),d.setMonth(r.date.date.getMonth()),d.setFullYear(r.date.date.getFullYear());const D=r.date.to;D.setDate(r.date.date.getDate()),D.setMonth(r.date.date.getMonth()),D.setFullYear(r.date.date.getFullYear()),console.log(d),console.log(D),c.push({title:r.name,start:d.toISOString(),end:D.toISOString(),isAllDay:!1,interactive:!0,description:r.info,color:r.eventType.color.setAlpha(.8).toRBGAString(),id:r.id,location:r.location.name})}H(c),console.log(i),console.log(c),b(!1)}t();const n=localStorage.getItem("accountType");n&&ee(n)},[]);function ce(){return p}const de=t=>{const n=t.target.value,[o,s]=n.split(":").map(Number),i=new Date(v);i.setHours(o,s,0,0),F(i),$(i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))},ue=t=>{const n=t.target.value,[o,s]=n.split(":").map(Number),i=new Date(v);i.setHours(o,s,0,0),I(i),O(i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))};Date.prototype.addHours=function(t){return this.setTime(this.getTime()+t*60*60*1e3),this};function me(){return e.jsxs("div",{className:"custom-invite-view",children:[e.jsx("button",{className:W=="students"?"selected":"",onClick:()=>{Z("students")},children:"Students"}),e.jsx("button",{className:W=="parents"?"selected":"",onClick:()=>{Z("parents")},children:"Parents"}),e.jsx("div",{className:"current-view",children:W=="students"?e.jsx("div",{className:"students",children:a==null?void 0:a.students.map((t,n)=>e.jsxs("div",{className:"student",children:[e.jsxs("label",{className:"custom-checkbox",children:[e.jsx("input",{type:"checkbox",id:"student",checked:y.find(o=>o.userId==t.userId)!=null,onChange:o=>{o.target.checked?N([...y,t]):N(y.filter(s=>s!=t))}}),e.jsx("span",{className:"checkmark",children:" "})]}),e.jsx("label",{htmlFor:t.userId,children:t.name})]},t.userId))}):e.jsx("div",{className:"parents",children:a==null?void 0:a.parents.map((t,n)=>e.jsxs("div",{className:"parent",children:[e.jsxs("label",{className:"custom-checkbox",children:[e.jsx("input",{type:"checkbox",id:"parent",onChange:o=>{o.target.checked?N([...y,t]):N(y.filter(s=>s!=t))}}),e.jsx("span",{className:"checkmark",children:" "})]}),e.jsx("label",{htmlFor:t.userId,children:t.name})]},t.userId))})})]})}function be(){return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mode",children:"Enter Event Information"}),e.jsx("label",{htmlFor:"Name",children:"Name: "}),e.jsx("input",{type:"text",value:L,onChange:t=>{M(t.target.value)}}),e.jsx("br",{}),e.jsx("label",{htmlFor:"Description",children:"Description: "}),e.jsx("textarea",{value:Y,onChange:t=>{B(t.target.value)}}),e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Date: "}),e.jsx("input",{type:"date",value:v==null?void 0:v.toISOString().split("T")[0],onChange:t=>{const n=new Date(t.target.value);n.setHours(0,0,0,0),n.setDate(n.getDate()+1),g(n);const o=new Date(n);o.setHours(m.getHours(),m.getMinutes(),0,0),F(o),$(o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}));const s=new Date(n);s.setHours(T.getHours(),T.getMinutes(),0,0),I(s),O(s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}))}}),e.jsx("br",{}),e.jsx("label",{htmlFor:"StartTime",children:"Start Time: "}),e.jsx("input",{type:"time",value:ae,onChange:de}),e.jsx("br",{}),e.jsx("label",{htmlFor:"EndTime",children:"End Time: "}),e.jsx("input",{type:"time",value:se,onChange:ue}),e.jsx("br",{}),e.jsx("label",{htmlFor:"location",children:"Location: "}),e.jsx("select",{name:"location",id:"location",onChange:t=>{E(a==null?void 0:a.locations.find(n=>n.name==t.target.value))},children:a==null?void 0:a.locations.map((t,n)=>e.jsx("option",{value:t.name,selected:(h==null?void 0:h.name)==t.name,children:t.name+" ("+t.address+")"},n))}),e.jsx("br",{}),e.jsx("label",{htmlFor:"eventType",children:"Event Type: "}),e.jsx("select",{name:"eventType",id:"event-type",onChange:t=>{C(a==null?void 0:a.eventTypes.find(n=>n.name==t.target.value))},children:a==null?void 0:a.eventTypes.map((t,n)=>e.jsx("option",{value:t.name,selected:(x==null?void 0:x.name)==t.name,children:t.name},n))}),e.jsx("br",{}),e.jsx("label",{htmlFor:"inviteType",children:"Invite Type: "}),e.jsxs("select",{name:"inviteType",id:"invite-type",onChange:t=>{G(t.target.value)},children:[e.jsx("option",{value:"students",selected:f=="students",children:"Students"}),e.jsx("option",{value:"parents",selected:f=="parents",children:"Parents"}),e.jsx("option",{value:"groups",selected:f=="groups",children:"Groups"}),e.jsx("option",{value:"custom",selected:f=="custom",children:"Custom"})]}),f=="groups"?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"groups",children:"Groups: "}),e.jsx("div",{className:"groups",children:a.groups.map((t,n)=>e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"custom-checkbox",children:[e.jsx("input",{type:"checkbox",id:"ensemble",checked:w.find(o=>o.groupName==t.groupName)!=null,onChange:o=>{o.target.checked?(A([...w,t]),N([...y,...t.groupMembers])):(A(w.filter(s=>s.groupName!=t.groupName)),N(y.filter(s=>!t.groupMembers.includes(s))))}}),e.jsx("span",{className:"checkmark",children:" "})]}),e.jsx("label",{htmlFor:t.groupName,children:t.groupName})]},t.groupName))})]}):e.jsx(e.Fragment,{}),f=="custom"?me():e.jsx(e.Fragment,{}),e.jsx("br",{}),V?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{if(b(!0),console.log(`Name: ${L}, Description: ${Y}, Start Time: ${m}, End Time: ${T}, Selected Location: ${h},Event Type: ${x}`),L==""||m==null||T==null||h==null||x==null){alert("Please fill out all fields"),console.log(`Name: ${L}, Description: ${Y}, Start Time: ${m}, End Time: ${T}, Selected Location: ${h},  Event Type: ${x}`),b(!1);return}console.log("Submit");const t=h??a.locations[0];console.log(m),console.log(T);const n=Q.fromBlank(v,m,T);console.log(n.toMap());const o=x;o.color.setAlpha(255);const s=ne.fromBlank(L,Y,t,n,"activity-event",Date.now(),P,w.map(i=>i.groupName),y,f,o,w,oe,ie,[],a.name);if(_){s.id=pe.id,await Fe(s),q(!1);const i=s.date.from,c=s.date.to,r={title:s.name,start:i.toISOString(),end:c.toISOString(),isAllDay:!1,interactive:!0,description:s.info,color:s.eventType.color.setAlpha(.8).toRBGAString(),id:s.id,location:s.location.name},d=j.filter(te=>te.id!=s.id);d.push(r),H(d);const D=p.filter(te=>te.id!=s.id);D.push(s),console.log(D),S([...D])}else{await ge(s);const i=s.date.from,c=s.date.to;i.setDate(s.date.date.getDate()),i.setMonth(s.date.date.getMonth()),i.setFullYear(s.date.date.getFullYear()),c.setDate(s.date.date.getDate()),c.setMonth(s.date.date.getMonth()),c.setFullYear(s.date.date.getFullYear());const r={title:s.name,start:i.toISOString(),end:c.toISOString(),isAllDay:!1,interactive:!0,description:s.info,color:s.eventType.color.setAlpha(.8).toRBGAString(),id:s.id,location:s.location.name};H([...j,r]),S([...p,s])}b(!1),u("date"),g(null),F(null),I(null),M(""),B(""),$(""),O(""),C(a==null?void 0:a.eventTypes[0]),E(a==null?void 0:a.defaultLocation),N([]),G("students")},className:"ActionBtn",children:_?"Save":"Submit"}),e.jsx("button",{onClick:()=>{if(_){u("date"),g(null),F(null),I(null),M(""),B(""),$(""),O(""),E(a.defaultLocation),C(a.eventTypes[0]),E(a==null?void 0:a.defaultLocation),q(!1);return}u("date"),B(""),M(""),G("students")},className:"ActionBtn",children:"Back"})]})}function we(){return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mode",children:"Enter Event Information"}),e.jsx("label",{htmlFor:"Name",children:"Name: "}),e.jsx("input",{type:"text",value:L,onChange:t=>{M(t.target.value)}}),e.jsx("br",{}),e.jsx("label",{htmlFor:"Description",children:"Description: "}),e.jsx("textarea",{value:Y,onChange:t=>{B(t.target.value)}}),e.jsx("br",{}),e.jsx("label",{htmlFor:"StartTime",children:"Start Time: "}),e.jsx("input",{type:"time",value:ae,onChange:de}),e.jsx("br",{}),e.jsx("label",{htmlFor:"EndTime",children:"End Time: "}),e.jsx("input",{type:"time",value:se,onChange:ue}),e.jsx("br",{}),e.jsx("label",{htmlFor:"location",children:"Location: "}),e.jsx("select",{name:"location",id:"location",onChange:t=>{E(a==null?void 0:a.locations.find(n=>n.name==t.target.value))},children:a==null?void 0:a.locations.map((t,n)=>e.jsx("option",{value:t.name,selected:(h==null?void 0:h.name)==t.name,children:t.name+" ("+t.address+")"},n))}),e.jsx("br",{}),e.jsx("label",{htmlFor:"eventType",children:"Event Type: "}),e.jsx("select",{name:"eventType",id:"event-type",onChange:t=>{C(a==null?void 0:a.eventTypes.find(n=>n.name==t.target.value))},children:a==null?void 0:a.eventTypes.map((t,n)=>e.jsx("option",{value:t.name,selected:(x==null?void 0:x.name)==t.name,children:t.name},n))}),e.jsx("br",{}),e.jsx("label",{htmlFor:"inviteType",children:"Invite Type: "}),e.jsxs("select",{name:"inviteType",id:"invite-type",onChange:t=>{G(t.target.value)},children:[e.jsx("option",{value:"students",selected:f=="students",children:"Students"}),e.jsx("option",{value:"parents",selected:f=="parents",children:"Parents"}),e.jsx("option",{value:"groups",selected:f=="groups",children:"Groups"}),e.jsx("option",{value:"custom",selected:f=="custom",children:"Custom"})]}),f=="groups"?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"groups",children:"Groups: "}),e.jsx("div",{className:"groups",children:a.groups.map((t,n)=>e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"custom-checkbox",children:[e.jsx("input",{type:"checkbox",id:"ensemble",checked:w.find(o=>o.groupName==t.groupName)!=null,onChange:o=>{o.target.checked?(A([...w,t]),N([...y,...t.groupMembers])):(A(w.filter(s=>s.groupName!=t.groupName)),N(y.filter(s=>!t.groupMembers.includes(s))))}}),e.jsx("span",{className:"checkmark",children:" "})]}),e.jsx("label",{htmlFor:t.groupName,children:t.groupName})]},t.groupName))})]}):e.jsx(e.Fragment,{}),f=="custom"?me():e.jsx(e.Fragment,{}),e.jsx("br",{}),e.jsx("h2",{children:"Event Dates"}),e.jsx("div",{className:"event-dates",children:K.map((t,n)=>e.jsxs("div",{className:"event-date",children:[e.jsxs("div",{className:"event-date-title",children:[e.jsx("label",{htmlFor:"",className:"event-date-name",children:t.date.toDateString()}),e.jsx("label",{htmlFor:"",className:"event-date-time",children:t.from.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})+" - "+t.to.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})})]}),e.jsx("img",{src:Le,className:"event-date-icon",onClick:()=>{le(K.filter(o=>o!=t))}})]},n))}),e.jsx("button",{className:"ActionBtn",onClick:()=>{var o;if(m==null||T==null){alert("Please fill out start time and end time");return}const t=new Date;t.setHours(0,0,0,0);const n=Q.fromBlank(t,m,T);Se(n),(o=z.current)==null||o.showModal()},children:"Add Date"}),e.jsx("br",{}),V?e.jsx("div",{className:"loader"}):e.jsx("button",{onClick:async()=>{if(b(!0),console.log(`Name: ${L}, Description: ${Y}, Start Time: ${m}, End Time: ${T}, Selected Location: ${h},Event Type: ${x}`),L==""||m==null||T==null||h==null||x==null||K.length==0){alert("Please fill out all fields"),console.log(`Name: ${L}, Description: ${Y}, Start Time: ${m}, End Time: ${T}, Selected Location: ${h},  Event Type: ${x}`),b(!1);return}console.log("Submit");const t=h??a.locations[0];console.log(m),console.log(T);const n=[];for(const o of K){const s=x;s.color.setAlpha(255);const i=ne.fromBlank(L,Y,t,o,"activity-event",Date.now(),P,w.map(D=>D.groupName),y,f,s,w,oe,ie,[],a.name);await ge(i);const c=i.date.from,r=i.date.to;c.setDate(i.date.date.getDate()),c.setMonth(i.date.date.getMonth()),c.setFullYear(i.date.date.getFullYear()),r.setDate(i.date.date.getDate()),r.setMonth(i.date.date.getMonth()),r.setFullYear(i.date.date.getFullYear());const d={title:i.name,start:c.toISOString(),end:r.toISOString(),isAllDay:!1,interactive:!0,description:i.info,color:i.eventType.color.setAlpha(.8).toRBGAString(),id:i.id,location:i.location.name};n.push(d),S([...p,i])}H([...j,...n]),b(!1),u("date"),g(null),F(null),I(null),M(""),B(""),$(""),O(""),C(a==null?void 0:a.eventTypes[0]),E(a==null?void 0:a.defaultLocation),N([]),G("students")},className:"ActionBtn",children:_?"Save":"Submit"}),e.jsx("button",{onClick:()=>{if(_){u("date"),g(null),F(null),I(null),M(""),B(""),$(""),O(""),E(a.defaultLocation),C(a.eventTypes[0]),E(a==null?void 0:a.defaultLocation),q(!1);return}u("date"),B(""),M(""),G("students")},className:"ActionBtn",children:"Back"})]})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-title",children:[e.jsx("img",{src:Ie,alt:"back arrow",onClick:()=>{window.location.href="/Activity/?activityId="+P}}),e.jsx("h1",{children:"Events"})]}),V?e.jsx("div",{className:"center",children:e.jsx("div",{className:"loader"})}):e.jsx("div",{className:"center",children:X=="teacher"?R=="multipleEvents"?we():R=="date"?e.jsxs(e.Fragment,{children:[" ",e.jsx(he,{canPaste:k!=null,canCopy:!0,copyEvent:t=>{const n=p.find(o=>o.id==t.id);for(const o of p)console.log(o.id);fe(n),console.log(n),console.log(t.id)},pasteEvent:t=>{console.log("PASTE EVENT"),console.log(t);const n=new Date(t);n.setHours(0,0,0,0),g(n),F(new Date(k.date.from)),$(k.date.from.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}));const o=new Date(k.date.to);I(o),console.log(o),O(o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),E(k.location),C(k.eventType),M(k.name),B(k.info),N(k.targets),G(k.generalTarget),A(k.groupTargets),u("info")},canViewConflicts:!1,isCreating:!0,canOpenContextMenu:!0,events:j,editEvent:t=>{const n=ce().find(o=>o.id==t.id);console.log(t.id),n&&(console.log(n),u("info"),M(n.name),B(n.info),g(n.date.date),F(n.date.from),$(n.date.from.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),I(n.date.to),O(n.date.to.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),E(n.location),N(n.targets),console.log("FROM EDIT"),console.log(n.targets),C(n.eventType),q(!0),G(n.generalTarget),ve(n),A(n.groupTargets))},viewEvent:t=>{const n=ce().find(o=>o.id==t.id);n&&(localStorage.setItem("event",JSON.stringify(n.toMap())),localStorage.setItem("back","/Activity/Events/?activityId="+P),window.location.href="/Calendar/Event/")},viewConflicts:t=>{},deleteEvent:async t=>{console.log(t);const n=p.find(i=>i.id==t.id),o=p.filter(i=>i.id!=t.id);S(o);const s=j.filter(i=>i.id!=t.id);H(s),await Ce(n)},dateClick:t=>{console.log(t.date),g(t.date),new Date(t.date).setHours(0,0,0,0),F(new Date(t.date)),$(t.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}));const o=new Date(t.date);I(o.addHours(1)),console.log(o),O(t.date.addHours(1).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),E(a.defaultLocation),C(a.eventTypes[0]),u("info")},eventClick:t=>{g(t.event.start),new Date(t.event.start).setHours(0,0,0,0),F(new Date(t.event.start)),$(t.event.start.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}));const o=new Date(t.event.end);I(o),O(o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),E(a.defaultLocation),C(a.eventTypes[0]),u("info")}}),e.jsx("button",{className:"ActionBtn",onClick:()=>{u("multipleEvents"),C(a.eventTypes[0])},children:"Add Multiple Events"}),e.jsx("button",{className:"ActionBtn",onClick:()=>{localStorage.setItem("events",JSON.stringify(p.map(t=>t.toMap()))),window.open("/Activity/Events/Print/","_blank")},children:"Print"}),e.jsx("button",{className:"ActionBtn",onClick:()=>{Te(p)},children:"Export to CSV"})]}):be():e.jsxs(e.Fragment,{children:[" ",e.jsx(he,{canPaste:!1,canCopy:!1,copyEvent:()=>{},pasteEvent:()=>{},viewEvent:t=>{},canViewConflicts:!1,events:j,canOpenContextMenu:!1,dateClick:()=>{},deleteEvent:()=>{},viewConflicts:()=>{},editEvent:()=>{},eventIdClick:t=>{const n=p.find(o=>o.id===t);n&&(localStorage.setItem("event",JSON.stringify(n.toMap())),localStorage.removeItem("back"),window.location.href="/Calendar/Event/")}})," ",e.jsx("button",{className:"ActionBtn",onClick:()=>{localStorage.setItem("events",JSON.stringify(p.map(t=>t.toMap()))),window.open("/Activity/Events/Print/","_blank")},children:"Print"})]})}),e.jsx(Me,{dialogRef:z,addDate:t=>{le([...K,t]),z.current.close()},close:()=>{z.current.close()},eventDate:xe})]})}
